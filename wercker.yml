# wercker.yml
 
box: wercker/nodejs
# Build definition
build:
  # The steps that will be executed on build
  steps:

    # a step that install grunt
    - script:
        name: install grunt
        code: sudo npm install -g grunt-cli

    # a step that install bower
    - script:
        name: install bower
        code: sudo npm install -g bower

    # a step that install and starts Selenium standalone server
    - steps:
        - selenium-install

    # a step that install npm dependencies from package.json file
    # some of the data is cached so it is faster to build the project later on
    - script:
        name: install npm dependencies
        code: |
            mkdir -p $WERCKER_CACHE_DIR/wercker/npm
            npm config set cache $WERCKER_CACHE_DIR/wercker/npm
            sudo npm install --save-dev

    - script:
        name: install bower dependencies
        code: bower install --config.storage.cache=$WERCKER_CACHE_DIR/werck



    # this assumes that your test suite runs via `grunt test`[x]
    - grunt:
        tasks: test
