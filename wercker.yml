# wercker.yml
 
box: wercker/nodejs
# Build definition
build:
  # The steps that will be executed on build
  steps:

    # a step that executes
    - script:
        name: install grunt
        code: sudo npm install -g grunt-cli

    - script:
        name: install bower
        code: sudo npm install -g bower

    - script:
        name: install npm dependencies
        code: |
            mkdir -p $WERCKER_CACHE_DIR/wercker/npm
            npm config set cache $WERCKER_CACHE_DIR/wercker/npm
            sudo npm install --save-dev

    - script:
        name: install bower dependencies
        code: bower install --config.storage.cache=$WERCKER_CACHE_DIR/werck


    # this assumes that your test suite runs via `grunt test`[x]
    - grunt:
        tasks: test
